"use strict";(self.webpackChunklottery=self.webpackChunklottery||[]).push([[30],{8030:(S,p,i)=>{i.r(p),i.d(p,{default:()=>x});var u=i(6814),e=i(5879);function f(t,s){if(1&t&&(e.TgZ(0,"div",1),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" Error: ",n.error,"\n")}}let g=(()=>{var t;class s{constructor(){this.error=null}}return(t=s).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-alert"]],inputs:{error:"error"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["class","alert alert-danger text-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","text-danger"]],template:function(r,o){1&r&&e.YNc(0,f,2,1,"div",0),2&r&&e.Q6J("ngIf",null!==o.error)},dependencies:[u.ez,u.O5],changeDetection:0}),s})();var c=i(95);let v=(()=>{var t;class s{constructor(){this.logon=new e.vpe}ngOnInit(){if(void 0===this.parentForm)throw Error("Missing required Input: parentForm!")}onLogon(){const r=this.parentForm.value;void 0!==r.userId&&void 0!==r.password&&this.logon.emit({userId:r.userId,password:r.password})}}return(t=s).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login-form"]],inputs:{parentForm:"parentForm"},outputs:{logon:"logon"},standalone:!0,features:[e.jDz],decls:11,vars:1,consts:[[1,"text-center","border","p-3",3,"formGroup"],[1,"mb-3"],["for","TEXTBOX_U",1,"form-label"],["id","TEXTBOX_U","type","text","formControlName","userId",1,"form-control"],["for","TEXTBOX_P",1,"form-label"],["id","TEXTBOX_P","type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(r,o){1&r&&(e.TgZ(0,"form",0)(1,"div",1)(2,"label",2),e._uU(3,"User ID"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1)(6,"label",4),e._uU(7,"Password"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.onLogon()}),e._uU(10," Log on"),e.qZA()()),2&r&&e.Q6J("formGroup",o.parentForm)},dependencies:[u.ez,c.UX,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u]}),s})();function h(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"li")(1,"button",4),e.NdJ("click",function(){const l=e.CHM(n).$implicit,a=e.oxw();return e.KtG(a.userSelected.emit(l))}),e._uU(2),e.qZA()()}if(2&t){const n=s.$implicit;e.xp6(1),e.Q6J("title",n.userId),e.xp6(1),e.Oqu(n.userName)}}let L=(()=>{var t;class s{constructor(){this.userList=[],this.userSelected=new e.vpe}}return(t=s).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-list"]],inputs:{userList:"userList"},outputs:{userSelected:"userSelected"},standalone:!0,features:[e.jDz],decls:6,vars:1,consts:[[1,"border","rounded","p-3","my-5"],[1,"text-center"],[1,"p-0","text-center"],[4,"ngFor","ngForOf"],[1,"btn",3,"title","click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"User list"),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"ul",2),e.YNc(5,h,3,2,"li",3),e.qZA()()),2&r&&(e.xp6(5),e.Q6J("ngForOf",o.userList))},dependencies:[u.ez,u.sg],styles:["ul[_ngcontent-%COMP%]{list-style:none}"],changeDetection:0}),s})();var C=i(5619),m=i(4489),d=i(4221);let U=(()=>{var t;class s{constructor(r){this.store=r}get userList(){return this.store.select(m._q)}}return(t=s).\u0275fac=function(r){return new(r||t)(e.LFG(d.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();var T=i(7398),Z=i(9397),F=i(8054);let y=(()=>{var t;class s{constructor(r){this.store=r}checkUser(r){return this.store.select((0,m.gm)(r)).pipe((0,T.U)(o=>({success:o?.password===r.password,user:o})),(0,Z.b)(({success:o,user:l})=>{o&&this.store.dispatch(F.E.setActiveUser({user:l}))}))}}return(t=s).\u0275fac=function(r){return new(r||t)(e.LFG(d.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();var A=i(1836);const _=function(){return[]};let x=(()=>{var t;class s{constructor(r,o,l){this.userListService=r,this.authService=o,this.router=l,this.error$=new C.X(null),this.userList$=this.userListService.userList,this.form=new c.cw({userId:new c.NI("",{nonNullable:!0}),password:new c.NI("",{nonNullable:!0})})}onUserSelected(r){this.form.patchValue({userId:r.userId})}onLogon(r){this.authService.checkUser(r).subscribe(({success:o})=>{o?(this.error$.next(null),this.router.navigate(["game"])):this.error$.next("Log on not successful!")})}}return(t=s).\u0275fac=function(r){return new(r||t)(e.Y36(U),e.Y36(y),e.Y36(A.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:8,vars:8,consts:[[3,"error"],[1,"text-center","mb-5"],[1,"d-flex","flex-wrap","flex-column","align-items-center"],[3,"userList","userSelected"],[3,"parentForm","logon"]],template:function(r,o){if(1&r&&(e._UZ(0,"app-alert",0),e.ALo(1,"async"),e.TgZ(2,"h1",1),e._uU(3,"Login page"),e.qZA(),e.TgZ(4,"div",2)(5,"app-user-list",3),e.NdJ("userSelected",function(a){return o.onUserSelected(a)}),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"app-login-form",4),e.NdJ("logon",function(a){return o.onLogon(a)}),e.qZA()()),2&r){let l;e.Q6J("error",e.lcZ(1,3,o.error$)),e.xp6(5),e.Q6J("userList",null!==(l=e.lcZ(6,5,o.userList$))&&void 0!==l?l:e.DdM(7,_)),e.xp6(2),e.Q6J("parentForm",o.form)}},dependencies:[u.ez,u.Ov,c.UX,g,v,L]}),s})()}}]);